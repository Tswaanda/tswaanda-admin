{"cells":[{"kind":1,"language":"markdown","value":"# HANSE\n\nIssuance Canister deployed here: https://a4gq6-oaaaa-aaaab-qaa4q-cai.raw.icp0.io/?id=chs73-3aaaa-aaaar-qabaa-cai"},{"kind":1,"language":"markdown","value":"### Exporter Identity"},{"kind":2,"language":"javascript","value":"// Identity\nlet exporter_identity = hashIdentity(\"tswaanda\")\nglobal({ exporter_identity })\n\n// Create Actor\nlet exporter_ic = icblast({ identity: exporter_identity })\nglobal({ exporter_ic })\n\n// Verify Identity\nlog([\"My identity is: \", exporter_identity.getPrincipal(),\" other than \", me])"},{"kind":1,"language":"markdown","value":"### Create Wallet"},{"kind":2,"language":"javascript","value":"let issuance_canister_actor = await exporter_ic(\"chs73-3aaaa-aaaar-qabaa-cai\")\nglobal({ issuance_canister_actor })\n\n// create a new wallet\nwallet_principal = await issuance_canister_actor.copy_wallet_code()\nglobal({ wallet_principal })"},{"kind":2,"language":"javascript","value":"// verify wallet was created for exporters identity\nlet wallet_principal_id = await issuance_canister_actor.get_wallet_principal_of(exporter_identity.getPrincipal())\nlog({ \"Wallet PrincipalID\": wallet_principal_id, is_exporter_annonymous: exporter_identity.getPrincipal().toText() === \"2vxsx-fae\", wallet_owned_by_exporter: wallet_principal_id.toText() === wallet_principal.toText() })"},{"kind":1,"language":"markdown","value":"### Wallet interactions"},{"kind":2,"language":"javascript","value":"// call wallet canister with exporters identity\nlet wallet_canister_actor = await exporter_ic(wallet_principal.toText())\nglobal({ wallet_canister_actor })"},{"kind":2,"language":"javascript","value":"// query active transactions\nlet get_active_transactions = await wallet_canister_actor.get_leg_list()\nlog(get_active_transactions)"}]}